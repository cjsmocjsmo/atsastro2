---
import Layout from "../layouts/Layout.astro";
import LeftArrow from "../components/LeftArrow.astro";
---

<Layout title="AlphaTree">
	<main class="m-auto p-8 max-w-screen-lg">
		<LeftArrow url="/" />

		<form class="mx-auto" action="" method="get">
			<!-- <br /><br /> -->

			<div class="flex flex-row">
				<div class="basis-1/2 pr-1">
					<div class="flex flex-col">
						<label for="Name">Name:</label>

						<input
							id="Name"
							class="input[type='text'] text-white bg-slate-600 rounded-lg h-12 w-full"
							type="text"
							name="Name"
							placeholder="Herman Munster"
						/>
					</div>
				</div>

				<div class="basis-1/2 pr-1">
					<div class="flex flex-col">
						<label for="Email">Email:</label>

						<input
							id="Email"
							class="input[type='text'] text-white bg-slate-600 rounded-lg h-12 w-full"
							type="text"
							name="Email"
							placeholder="herman@gmail.com"
						/>
					</div>
				</div>
			</div>

			<br /><br />

			<center><label for="Review">Review:</label></center>
			<center>
				<textarea
					id="Review"
					class="text-white bg-slate-600 h-36 rounded-lg h-8 w-9/12"
					name="Review"></textarea>
			</center>

			<br /><br />

			<div class="basis-1/2 pr-1">
				<div class="flex flex-col">
					<center><label for="Review">Star Rating:</label></center>
					<center>
						<input
							id="Star"
							class="input[type='text'] text-justify text-white bg-slate-600 rounded-lg h-12 w-20"
							type="text"
							name="Star"
							placeholder="5"
						/>
					</center>
				</div>
			</div>

			<br /><br />

			<!-- <input type="file" id="inputfile"/> -->
			<center>
				<a href="/">
					<button
						id="revsub"
						class="bg-slate-600 h-14 w-44 text-white rounded-lg"
						type="button"
					>
						Submit
					</button>
				</a>
			</center>
		</form>
	</main>
</Layout>

<script>
	const name = document.querySelector('input[name="Name"]');
	const email = document.querySelector('input[name="Email"]');
	const review = document.querySelector('input[name="Review"]');
	const button = document.querySelector("button#revsub");
	button.addEventListener("click", () => {
		const u =
			"http://192.168.0.90:9090/new?comment=" +
			name.value +
			"/" +
			email.value +
			"/" +
			review.value;
		const url = encodeURI(u);
		console.log(url);
		fetch(url);
	});
</script>

<style>
	:root {
		--astro-gradient: linear-gradient(180deg, #4f39fa, white);
	}

	.text-gradient {
		font-weight: 900;
		background-image: var(--astro-gradient);
		-webkit-background-clip: text;
		-webkit-text-fill-color: transparent;
		background-size: 100% 200%;
		background-position-y: 100%;
		border-radius: 0.4rem;
		animation: pulse 4s ease-in-out infinite;
	}

	@keyframes pulse {
		0%,
		100% {
			background-position-y: 0%;
		}
		50% {
			background-position-y: 80%;
		}
	}
</style>
